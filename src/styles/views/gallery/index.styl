gallery_column_width_breakpoint_0 = gallery_cwb_0 = 34vw
gallery_column_width_breakpoint_0 = gallery_cwb_1 = 22vw
gallery_column_width_breakpoint_0 = gallery_cwb_2 = 14vw
gallery_column_width_breakpoint_0 = gallery_cwb_3 = 212px

.gallery
    .canvas
        align-items: flex-start
        +nav-1()
            margin 5rem 0
        .content
            justify-content: center
            +min(2)
                margin 10rem 0
            .gallery-main
                display: grid
                grid-auto-flow: row
                grid-template-rows: auto
                grid-template-columns: repeat(2, gallery_cwb_0)
                column-gap: 7.5vw
                row-gap @column-gap
                +min(1)
                    column-gap: 5vw
                    row-gap @column-gap
                    grid-template-columns: repeat(3, gallery_cwb_1)
                +min(2)
                    column-gap: 2.8vw
                    row-gap @column-gap
                    grid-template-columns: repeat(4, gallery_cwb_2)
                +min(3)
                    column-gap: rem(38px)
                    row-gap @column-gap
                    grid-template-columns: repeat(5, gallery_cwb_3)
                &__item
                    min-width: rem(110px)
                &__thumb
                    display flex
                    align-items flex-start
                    position: relative
                    width: gallery_cwb_0
                    height: @width
                    border-radius: 3px
                    background: _55
                    box-shadow: -1px 1px 1px _45, -2px 2px 2px _55
                    +min(1)
                        width: gallery_cwb_1
                        height: @width
                    +min(2)
                        width: gallery_cwb_2
                        height: @width
                    +min(3)
                        width: gallery_cwb_3
                        height: @width
                    &-image
                        position absolute
                        size(100%)
                        top: 0
                        right: 0
                        border-radius: 3px
                        object-fit: cover
                        object-position: center
                    &:hover
                        .gallery-main__thumb-id
                            opacity: .85
                        .gallery-main__thumb-title
                            opacity: 1
                    &-id, &-title
                        color: rgba(255,255,255,0.9)
                        transition: opacity .3s ease
                    &-id
                        position absolute
                        top: 1rem
                        right: 1.4rem
                        opacity .65
                        font-size 1.1rem
                        text-shadow 1px 1px 2px rgba(0,0,0,0.8)
                        z-index 2
                    &-title
                        display: flex
                        position: absolute
                        justify-content: center
                        align-items: flex-end
                        opacity 0
                        top: 0
                        left: @top
                        width: gallery_cwb_0
                        height: @width
                        padding: 1rem
                        text-align center
                        text-shadow -2px 2px 6px rgba(0,0,0,0.5)
                        border-radius: 3px
                        background: radial-gradient(
                            rgba(0,0,0,0.2) 0%,
                            rgba(0,0,0,0.8) 100%)
                        z-index 2
                        +min(1)
                            width: gallery_cwb_1
                            height: @width
                        +min(2)
                            width: gallery_cwb_2
                            height: @width
                        +min(3)
                            width: gallery_cwb_3
                            height: @width
                &__modal
                    size(0px)
                    opacity: 0
                    transform: scale(0)
                    align-items: flex-start
                    justify-content: center
                    background: _100
                    transition: opacity .5s ease
                    scroll-margin-top: 80vh
                    pointer-events: none
                    +min(2)
                        align-items: center
                        background: rgba(0,0,0,.86)
                    &:target
                        display flex
                        size(100%)
                        position: fixed
                        transform: scale(1)
                        top: 0
                        left: @top
                        opacity: 1
                        z-index: 4
                        overflow: scroll
                        pointer-events: auto
                        +min(2)
                            overflow: hidden
                        .gallery-main__modal-image
                            transform: scale(1)
                    &-close
                        display block
                        &::before
                            position fixed
                            top 0
                            left @top
                            size(100%)
                            content ''
                            cursor default
                        &::after
                            display flex
                            position fixed
                            top 1rem
                            right @top
                            size(2.8rem)
                            content 'Ã—'
                            font-size 2.4rem
                            cursor pointer
                            align-items center
                            justify-content center
                            color rgba(255,255,255,0.6)
                            border-radius 50%
                            transition all 200ms linear
                            box-shadow inset 0 0 5px rgba(0,0,0,0.4)
                            background rgba(0,0,0,0.3)
                            z-index 1
                            +min(2)
                                position: absolute
                                top 2rem
                                right @top
                                border-radius 3px
                                color rgba(255,255,255,0.2)
                                background rgba(0,0,0,0.5)
                        &:hover::after
                            color rgba(255,255,255,0.6)
                    &-image
                        transform: scale(0)
                        transition: .5s ease
                        +max(2)
                            display flex
                            height 100%
                            flex-direction: column
                        img
                            display block
                            width 100%
                            height auto
                            margin 0 auto
                            +min(2)
                                width auto
                                max-height 65vh
                                border-radius: 5px
                                border 1px solid rgba(255, 255, 255, .6)
                                box-shadow -5px 5px 10px rgba(0,0,0,0.4)
                    &-meta
                        display flex
                        flex-flow row wrap
                        justify-content center
                        padding 1.8rem 0
                        font-style normal
                        background _100
                        +max(2)
                            flex 1
                        +min(2)
                            min-width rem(880px)
                            justify-content space-between
                            margin-top 1.3rem
                            padding 1.3rem 1.9rem 1.7rem
                            border-radius: 3px
                            box-shadow -5px 5px 10px rgba(0,0,0,0.4)
                        &-header
                            width 100%
                            font-size 1.1rem
                            line-height 1.3
                            text-align center
                            +min(2)
                                width 80%
                                text-align left
                        &-title
                            display block
                            font-size 1.6rem
                            font-weight 600
                            margin-bottom .5rem
                            +min(2)
                                margin-bottom: 0
                        &-id, &-artist
                            +min(2)
                                font-size .9rem
                        &-artist::after
                            content '\00A0\00A0\00B7\00A0\00A0'
                        &-specs
                            display flex
                            flex-flow row wrap
                            margin-top 2rem
                            padding-top: 2.4rem
                            text-align left
                            border-top: 1px solid _80
                            +min(2)
                                margin-top 1rem
                                padding-top: @margin-top
                            dl
                                +max(2)
                                    width 50%
                                    margin-bottom 1rem
                                    text-align center
                                +min(2)
                                    &:nth-of-type(even)
                                        margin: 0 1.2rem
                                        padding: @margin
                                        border: 1px solid _80
                                        border-top: 0
                                        border-bottom: 0
                                        &:last-of-type
                                            margin-right 0
                                            padding-right 0
                                            border-right 0
                            dt
                                font-weight 600
                                text-transform uppercase
                                +min(2)
                                    font-size .9rem
                            dd
                                font-size 1.1rem
                                padding-top .4rem
                        &-actions
                            display flex
                            flex-flow row wrap
                            align-content flex-end
                            +max(2)
                                margin 1rem 0
                        &-status
                            width 100%
                            font-size 1.6rem
                            &::before
                                content: 'For Sale'
                        &-buy
                            width 100%
                            align-self center
                            margin-top 1rem
                            button(
                                type: 'fill',
                                color: _20,
                                rounded: true,
                                font-size: 1rem,
                                padding: 1.3rem 0,
                                border-width: 1px
                            )
                            font-weight: 600
                            text-transform: uppercase
                // modifications pertaining to sold items
                &__item--sold
                    .gallery-main__thumb
                        &:hover
                            &::before
                            &::after
                                opacity 0
                        &::before, &::after
                            position absolute
                            transition: opacity .3s ease
                            z-index 1
                        &::before
                            right 0
                            bottom 0
                            size(0)
                            content ''
                            border-style: solid
                            border-width: 0 0 3.5rem 3.5rem
                            border-color: transparent transparent _50
                        &::after
                            right .3rem
                            bottom .8rem
                            font-size .75rem
                            content 'sold'
                            color _100
                            z-index 2
                            text-shadow 1px -1px 0 darken(_50, 38%)
                            text-transform uppercase
                            transform: rotate(-45deg)
                    .gallery-main__modal-meta-actions
                        align-content center
                    .gallery-main__modal-meta-status
                        color #993d32
                        display: block
                        font-weight 600
                        &::before
                            content: 'SOLD'
                    .gallery-main__modal-meta-buy
                        display none
